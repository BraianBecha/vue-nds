import{_ as h,o as s,c as l,t as n,b as r,d as i,e as d,f as $,g as c,w as m,T as u,F as v,r as k,h as P,v as F,i as D,j as C}from"./index-Baansx3i.js";const B={props:["textoBoton"]},E={class:"boton1"};function V(o,e,t,a,g,S){return s(),l("button",E,n(t.textoBoton),1)}const _=h(B,[["render",V]]),b={class:"tarjetaFoto"},N=["src"],y={class:"listaDescriptiva"},j={props:["idPhoto","imgSrc","earthDate","roverName","cameraName"],methods:{verEnDetalle(){this.$emit("ver-en-detalle",this.idPhoto)}}},p=Object.assign(j,{__name:"CardPhoto",setup(o){return(e,t)=>(s(),l("div",b,[r("img",{src:o.imgSrc},null,8,N),r("div",y,[r("ol",null,[r("li",null," Id : "+n(o.idPhoto),1),r("li",null,"Earth date: "+n(o.earthDate),1),r("li",null,"Rover name: "+n(o.roverName),1),r("li",null,"Camera: "+n(o.cameraName),1)])]),i(_,{textoBoton:"View",onClick:e.verEnDetalle},null,8,["onClick"])]))}}),w={props:["nPhotos","nSol"]},I={id:"barraEstado"};function L(o,e,t,a,g,S){return s(),l("div",I,n(t.nPhotos||0)+" photos recorded in "+n(t.nSol||0)+" Sol ",1)}const O=h(w,[["render",L],["__scopeId","data-v-f212f268"]]),A={style:{display:"block"},class:"tarjetaFoto"},G=["src"],R={class:"listaDescriptiva"},T={props:["idPhoto","imgSrc","earthDate","roverName","cameraName","textoBtn"],methods:{pedirVolver(){this.$emit("pedir-volver",this.idPhoto)}}},f=Object.assign(T,{__name:"detalle",setup(o){return(e,t)=>(s(),l("div",A,[r("img",{src:o.imgSrc},null,8,G),r("div",R,[r("ol",null,[r("li",null,"Id : "+n(o.idPhoto),1),r("li",null,"Earth date: "+n(o.earthDate),1),r("li",null,"Rover name: "+n(o.roverName),1),r("li",null,"Camera: "+n(o.cameraName),1),r("li",null,"Camera: "+n(o.textoBtn),1)])]),i(_,{textoBoton:this.textoBtn,onClick:e.pedirVolver},null,8,["textoBoton","onClick"])]))}}),q={key:"detalleFoto"},z={key:"contenedorDeFotos",class:"contenedorDeFotos"},H={components:{CardPhoto:p,Detalle:f,imagenConDescripcion:D},data(){return{sol:0,message:" ",linkServicio:"https://api.nasa.gov/mars-photos/api/v1/rovers/",linkConsulta:"",arrayPresentacionPhotos:[],presentacionFoto:{id:0,imgSrc:"",earth_date:"",rover:"",camera:""},mostrarBarraEstado:!1,lookState:"contenedorDeFotos",detalleFoto:{id:0,imgSrc:"",earth_date:"",rover:"",camera:""}}},methods:{receiveValues(o,e,t){if(e==null){console.error("El valor de sol es invÃ¡lido");return}this.sol=e,this.crearLinkConsulta(o,e,t)},crearLinkConsulta(o,e,t){this.linkConsulta=this.linkServicio.concat(`${o}/photos?sol=${e}&api_key=${t}`),this.buscarFotos(this.linkConsulta)},buscarFotos(o){this.arrayPresentacionPhotos=[],fetch(o).then(e=>e.json()).then(e=>{if(!e.photos){alert("La respuesta no contiene fotos");return}console.log(`y es ${e} la cantidad de fotos es ${e.photos.length}`),e.photos.forEach(t=>{let a=Object.create(this.presentacionFoto);a.id=t.id,a.imgSrc=t.img_src,a.earth_date=t.earth_date,a.rover=t.rover.name,a.camera=t.camera.name,this.arrayPresentacionPhotos.push(a)}),this.arrayPresentacionPhotos.length!=0&&(this.mostrarBarraEstado=!0)})},verEnDetalle(o){console.log(`se llama a verEnDetalle con los valores ${o}`),this.detalleFoto=this.arrayPresentacionPhotos.find(e=>e.id==o),this.lookState="detalleFoto"},volverAGrid(){this.lookState="contenedorDeFotos"}}},J=Object.assign(H,{__name:"SearchComponent",setup(o){return(e,t)=>(s(),l(v,null,[e.lookState!=="detalleFoto"?(s(),d($,{key:0,onSendValues:e.receiveValues},null,8,["onSendValues"])):c("",!0),i(u,{mode:"out-in"},{default:m(()=>[e.lookState==="detalleFoto"?(s(),l("div",q,[i(f,{"id-photo":e.detalleFoto.id,imgSrc:e.detalleFoto.imgSrc,"earth-date":e.detalleFoto.earth_date,"rover-name":e.detalleFoto.rover,"camera-name":e.detalleFoto.camera,textoBtn:"Back",onPedirVolver:e.volverAGrid},null,8,["id-photo","imgSrc","earth-date","rover-name","camera-name","onPedirVolver"])])):c("",!0)]),_:1}),i(u,{mode:"out-in"},{default:m(()=>[e.lookState==="contenedorDeFotos"?(s(),l("div",z,[(s(!0),l(v,null,k(e.arrayPresentacionPhotos,a=>(s(),d(p,{key:a.id,"id-photo":a.id,"img-src":a.imgSrc,"rover-name":a.rover,"earth-date":a.earth_date,onVerEnDetalle:e.verEnDetalle,"camera-name":a.camera},null,8,["id-photo","img-src","rover-name","earth-date","onVerEnDetalle","camera-name"]))),128))])):c("",!0)]),_:1}),P(i(O,{"n-sol":e.sol,"n-photos":e.arrayPresentacionPhotos.length},null,8,["n-sol","n-photos"]),[[F,e.mostrarBarraEstado]])],64))}}),K=h(J,[["__scopeId","data-v-0f8a76f9"]]),Q=C({__name:"SearchView",setup(o){return(e,t)=>(s(),d(K))}});export{Q as default};
